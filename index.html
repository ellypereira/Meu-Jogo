<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood and Silence</title>
    <link rel="stylesheet" href="style.css">

<link rel="shortcut icon" href="game1/assets/favicon.ico.png" type="image/x-icon"> 

</head>
<body>
    <!-- Música sombria -->
     <audio id="bg-music" autoplay loop>
        <source src="bgm.mp3.mp3" type="audio/mpeg">
        Seu navegador não suporta áudio HTML5.
     </audio>
      <!-- Botão de som -->
    <button id="sound-toggle">
        <img id="sound-icon" src="sound-on.png" alt="Som Ligado">
    </button>

    <div id="tela-inicial">
        <div id="fundo-imagem"></div>
        <img id="logo-vampiros" src="game1/assets/capa.png" alt="Logo Blood and Silence">
        <button class="botao-inicio" onclick="iniciarJogo()">Iniciar Jogo</button>
    </div>

    <script>
        const audio = document.getElementById("bg-music");
         const soundBtn = document.getElementById("sound-toggle");
         const soundIcon = document.getElementById("sound-icon");
     
         // Começa mudo e faz fade in
         window.addEventListener("load", () => {
             audio.volume = 0;
             const fadeInDuration = 5000;
             const stepTime = 200;
             const maxVolume = 0.5;
             let currentVolume = 0;
             const volumeStep = maxVolume / (fadeInDuration / stepTime);
     
             // Tenta dar play, mas lida com possíveis bloqueios de autoplay
             audio.play().then(() => {
                 let fadeAudio = setInterval(() => {
                     if (currentVolume < maxVolume) {
                         currentVolume = Math.min(currentVolume + volumeStep, maxVolume);
                         audio.volume = currentVolume;
                     } else {
                         clearInterval(fadeAudio);
                     }
                 }, stepTime);
             }).catch(err => {
                 console.warn("Autoplay bloqueado:", err);
                 // Se o autoplay for bloqueado, você pode querer mostrar um botão de play
                 // ou instruir o usuário a interagir com a página.
                 // Por enquanto, apenas registra o aviso.
             });
         });
     
         // Lógica do botão de som
         // Começamos com a música tocando, então o estado inicial é "ligado"
         let isPlaying = true; // Alterado para refletir se a música está tocando
     
         soundBtn.addEventListener("click", () => {
             if (isPlaying) {
                 // Se a música está tocando, pausamos e mudamos para o ícone de mudo
                 audio.pause();
                 soundIcon.src = "sound-off.png"; // Certifique-se de ter esta imagem
                 soundIcon.alt = "Som Desligado";
             } else {
                 // Se a música está pausada, tocamos e mudamos para o ícone de som
                 audio.play();
                 soundIcon.src = "sound-on.png"; 
                 soundIcon.alt = "Som Ligado";
             }
             // Inverte o estado de reprodução
             isPlaying = !isPlaying;
         });
     
         function iniciarJogo() {
             window.location.href = "";
         }
     </script>
</body>
</html>